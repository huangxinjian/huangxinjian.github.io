<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象 | HuangXinJian</title>
    <meta name="description" content="If you learn, learn deeply please!">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/H.png">
    
    <link rel="preload" href="/assets/css/0.styles.77838d5e.css" as="style"><link rel="preload" href="/assets/js/app.78cba7d9.js" as="script"><link rel="preload" href="/assets/js/2.b97de27f.js" as="script"><link rel="preload" href="/assets/js/29.4e592fcf.js" as="script"><link rel="prefetch" href="/assets/js/10.5a39f9cf.js"><link rel="prefetch" href="/assets/js/11.fc6bddf2.js"><link rel="prefetch" href="/assets/js/12.da1eaab3.js"><link rel="prefetch" href="/assets/js/13.3e791f4e.js"><link rel="prefetch" href="/assets/js/14.5953a388.js"><link rel="prefetch" href="/assets/js/15.b9e792e3.js"><link rel="prefetch" href="/assets/js/16.14be3228.js"><link rel="prefetch" href="/assets/js/17.d8c48abe.js"><link rel="prefetch" href="/assets/js/18.c1171d86.js"><link rel="prefetch" href="/assets/js/19.687638f3.js"><link rel="prefetch" href="/assets/js/20.dbb7c712.js"><link rel="prefetch" href="/assets/js/21.fcac9d7b.js"><link rel="prefetch" href="/assets/js/22.05c89a82.js"><link rel="prefetch" href="/assets/js/23.6f455ef9.js"><link rel="prefetch" href="/assets/js/24.a5f5dd42.js"><link rel="prefetch" href="/assets/js/25.ddacf5f1.js"><link rel="prefetch" href="/assets/js/26.1dbabccd.js"><link rel="prefetch" href="/assets/js/27.4d3ddddd.js"><link rel="prefetch" href="/assets/js/28.aca93b2e.js"><link rel="prefetch" href="/assets/js/3.8c3b122e.js"><link rel="prefetch" href="/assets/js/30.07e05cf0.js"><link rel="prefetch" href="/assets/js/31.4bc393d7.js"><link rel="prefetch" href="/assets/js/32.5bed9ede.js"><link rel="prefetch" href="/assets/js/33.b1d61159.js"><link rel="prefetch" href="/assets/js/34.27c7f1f1.js"><link rel="prefetch" href="/assets/js/35.17c92a26.js"><link rel="prefetch" href="/assets/js/36.91a5ecf5.js"><link rel="prefetch" href="/assets/js/37.88c250af.js"><link rel="prefetch" href="/assets/js/38.6d72295b.js"><link rel="prefetch" href="/assets/js/39.0e585af1.js"><link rel="prefetch" href="/assets/js/4.ff5f2a88.js"><link rel="prefetch" href="/assets/js/40.80a7f1c2.js"><link rel="prefetch" href="/assets/js/41.defa3efa.js"><link rel="prefetch" href="/assets/js/42.70857ada.js"><link rel="prefetch" href="/assets/js/5.68065b24.js"><link rel="prefetch" href="/assets/js/6.bb2aa06c.js"><link rel="prefetch" href="/assets/js/7.f469350c.js"><link rel="prefetch" href="/assets/js/8.37ca51cf.js"><link rel="prefetch" href="/assets/js/9.68f4fa83.js">
    <link rel="stylesheet" href="/assets/css/0.styles.77838d5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HuangXinJian</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nodejs/NodeJS基础/NodeJS介绍.html" class="nav-link">
  NodeJS 基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/baseJava/Java 介绍.html" class="nav-link">
  Java 基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/distributed/frameworkHistory/架构演变历史.html" class="nav-link">
  分布式学习路线
</a></li><li class="dropdown-item"><!----> <a href="/distributed/registerCenter/" class="nav-link">
  注册中心
</a></li><li class="dropdown-item"><!----> <a href="/distributed/messageSystem/" class="nav-link">
  消息系统
</a></li><li class="dropdown-item"><!----> <a href="/distributed/internal/" class="nav-link">
  网络框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/database/RDB/MySQL_Learn/MySQL安装.html" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/huangxinjian/huangxinjian.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nodejs/NodeJS基础/NodeJS介绍.html" class="nav-link">
  NodeJS 基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/baseJava/Java 介绍.html" class="nav-link">
  Java 基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/distributed/frameworkHistory/架构演变历史.html" class="nav-link">
  分布式学习路线
</a></li><li class="dropdown-item"><!----> <a href="/distributed/registerCenter/" class="nav-link">
  注册中心
</a></li><li class="dropdown-item"><!----> <a href="/distributed/messageSystem/" class="nav-link">
  消息系统
</a></li><li class="dropdown-item"><!----> <a href="/distributed/internal/" class="nav-link">
  网络框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/database/RDB/MySQL_Learn/MySQL安装.html" class="nav-link">
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/huangxinjian/huangxinjian.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/java/baseJava/Java 介绍.html" class="sidebar-link">Java 介绍</a></li><li><a href="/java/baseJava/对象与类.html" class="active sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#什么是面向对象？" class="sidebar-link">什么是面向对象？</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#类" class="sidebar-link">类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#类之间的关系" class="sidebar-link">类之间的关系</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#类的访问权限" class="sidebar-link">类的访问权限</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#producted-误区" class="sidebar-link">Producted 误区</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#对象" class="sidebar-link">对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#封装" class="sidebar-link">封装</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#对象与对象变量" class="sidebar-link">对象与对象变量</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#方法" class="sidebar-link">方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#方法参数" class="sidebar-link">方法参数</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#可变参数的方法" class="sidebar-link">可变参数的方法</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#参数传递" class="sidebar-link">参数传递</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#更改器方法和访问器方法" class="sidebar-link">更改器方法和访问器方法</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#调用构造器顺序" class="sidebar-link">调用构造器顺序</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#final-和-static" class="sidebar-link">final 和 static</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#final" class="sidebar-link">final</a></li><li class="sidebar-sub-header"><a href="/java/baseJava/对象与类.html#static" class="sidebar-link">static</a></li></ul></li></ul></li><li><a href="/java/baseJava/继承.html" class="sidebar-link">继承</a></li><li><a href="/java/baseJava/反射.html" class="sidebar-link">反射</a></li><li><a href="/java/baseJava/接口和Lambda和内部类.html" class="sidebar-link">接口和Lambda和内部类</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h1> <p>这一章将学习面向对象的最基础的元素：</p> <ul><li>类</li> <li>对象</li> <li>方法</li></ul> <h2 id="什么是面向对象？"><a href="#什么是面向对象？" class="header-anchor">#</a> 什么是面向对象？</h2> <p>面向对象程序设计，即 OOP，是目前主流的程序设计的范型。我们即将学习的 <strong style="color:#3EAF7C;">Java 是完全面向对象的</strong>，因此必须学习什么是 OOP，才能用好 Java。</p> <p>首先，面向对象的程序是由对象组成的，每个对象包含了对外界<strong style="color:#3EAF7C;">公开的特定功能部分</strong>以及<strong style="color:#3EAF7C;">隐藏的功能实现部分</strong>。也就是说，在 OOP 中，我们无需关心对象的具体实现，只需关心这个功能如何使用，以及使用后会得到什么结果即可。</p> <p>对于传统的结构化语言来说，在编程时通过设计一系列的过程（算法）来解决问题，当过程确定后，再去选择使用什么样的数据结构。</p> <blockquote><p>例如 Pascal 的作者有本书的书名就是 《算法 + 数据结构 = 程序》</p></blockquote> <p>但对于 OOP 来说，我们通常先选择使用什么样的数据结构，再去考虑操作数据结构的算法实现。</p> <h2 id="类"><a href="#类" class="header-anchor">#</a> 类</h2> <p><strong style="color:#3EAF7C;">类（Class）</strong> 是面向对象中最重要的存在之一，它是构造对象的模板。由类<strong style="color:#3EAF7C;">构造（Construct）</strong>出对象的过程称为<strong style="color:#3EAF7C;">创建类的实例</strong>。</p> <blockquote><p>你可以把对象认为是糖果，而类是制造糖果的糖果机</p></blockquote> <h3 id="类之间的关系"><a href="#类之间的关系" class="header-anchor">#</a> 类之间的关系</h3> <p>在类与类之间，存在三种比较常见的关系：</p> <ul><li>继承关系</li> <li>依赖关系</li> <li>聚合关系</li></ul> <p>详情可通过设计模式章节了解</p> <h3 id="类的访问权限"><a href="#类的访问权限" class="header-anchor">#</a> 类的访问权限</h3> <p>在 Java 中，访问权限有四种, 它们之间的区别如下：</p> <table><thead><tr><th></th> <th>同一个类</th> <th>同一个包</th> <th>子类</th> <th>所有类</th></tr></thead> <tbody><tr><td>private</td> <td>*</td> <td></td> <td></td> <td></td></tr> <tr><td>default</td> <td>*</td> <td>*</td> <td></td> <td></td></tr> <tr><td>protected</td> <td>*</td> <td>*</td> <td>*</td> <td></td></tr> <tr><td>public</td> <td>*</td> <td>*</td> <td>*</td> <td>*</td></tr></tbody></table> <h3 id="producted-误区"><a href="#producted-误区" class="header-anchor">#</a> Producted 误区</h3> <p>https://bbs.csdn.net/topics/392045537</p> <p>https://blog.csdn.net/blacktal/article/details/81198579</p> <p>https://blog.csdn.net/dawn_after_dark/article/details/74453915</p> <p>https://blog.csdn.net/dawn_after_dark/article/details/74357049</p> <h2 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h2> <p>通过类实例化后，我们就会得到一个对象，对象有三个特征：</p> <ul><li>对象的状态（<strong>state</strong>）</li> <li>对象的行为（<strong>behavior</strong>）</li> <li>对象标识（<strong>identity</strong>）</li></ul> <p>通常我们会在类中定义一些属性，这些属性通常称为<strong style="color:#3EAF7C;">实例域</strong>，而这些属性的值则称为<strong style="color:#3EAF7C;">实例域值</strong>，这些值的集合就是当前这个<strong style="color:#3EAF7C;">对象的状态 State</strong>。</p> <p>至于对象的行为，则是我们定义在类中，用来操作数据的方法，它可以改变对象的状态。</p> <blockquote><p>注意，如果想要修改对象的状态，必须通过调用方法来实现，否则代表了封装性遭到了破坏</p></blockquote> <p>对象标识是对象的唯一标识，是用来区分出一个类的多个实例之间的区别的。</p> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <p>封装是面向对象的三大特点之一，有时候又称为<strong style="color:#3EAF7C;">数据隐藏</strong>。其本质其实是将对象的实例域通过权限修饰符 <code>private</code> 修饰起来，从而让外界无法直接访问到这些属性。</p> <p>因此，实现封装的关键就是，<strong style="color:#3EAF7C;">不能让类中的方法直接访问到其他类的实例域</strong>。</p> <h4 id="封装的优点"><a href="#封装的优点" class="header-anchor">#</a> 封装的优点</h4> <p>封装的好处在与我们保护我们的实例域不受外界随便修改，并且可以提供自由度更高的方法供外部者调用，例如某个类存在以下两个域：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> firstname <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> lastName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>那么就可以提供一个 <code>getName</code> 方法，来美化我们的返回结果。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstname <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastname<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>同时也可以对类中想要赋值给某个域的操作进行验证：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFirstName</span><span class="token punctuation">(</span><span class="token class-name">String</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>fn <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">'不能为空'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>firstname <span class="token operator">=</span> fn<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="对象与对象变量"><a href="#对象与对象变量" class="header-anchor">#</a> 对象与对象变量</h3> <p>在 Java 中，通过构造器来构造新对象，例如我们想要构造一个 Date 对象：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Date</span> birthday <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中，Date 是一个对象，而 <code>birthday</code> 是一个对象变量，其内存结构如图：</p> <p><img src="/images/java_object.jpg" alt="对象"></p> <p>但对象与对象变量之间，是有很大的区别的，让我们来看下面这个例子</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Date</span> deadline<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在这里，<code>deadline</code> 是一个对象变量，它并不是一个对象，只是它可以引用 Date 类型的对象。如果我们此时使用 <code>deadline</code> 调用来自于 <code>Date</code> 中的任何方法，都会报错：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>deadline<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们必须对 <code>deadline</code> 进行初始化后，才能够使用，例如我们将 <code>birthday</code> 赋值给 <code>deadline</code> ：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>deadline <span class="token operator">=</span> birthday<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此时内存图如下：</p> <p><img src="/images/java_object2.jpg" alt="对象2"></p> <p>也就是说，<strong style="color:#3EAF7C;">一个对象变量并没有实际包含一个对象，而仅仅是引用一个对象而已。</strong>在 Java 中，任何对象变量的值都是对<strong style="color:#3EAF7C;">存储在堆</strong>中的对象的引用，<code>new</code> 操作符返回的就是一个引用。</p> <h2 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h2> <p>方法用来操作对象以及存取它们的实例域，每个方法都有二个要素，称为方法的签名：</p> <ul><li>方法名</li> <li>方法参数类型</li></ul> <blockquote><p>注意，返回类型不是方法签名的一部分</p></blockquote> <p>例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">plusCount</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> conut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法参数"><a href="#方法参数" class="header-anchor">#</a> 方法参数</h3> <p>一般来说，一个普通方法拥有两种参数 ：</p> <ul><li>隐式参数</li> <li>显式参数</li></ul> <p>其中，隐式参数又被称为方法的调用者，并且在每个方法中，this 也表示隐式参数。而显式参数就是明显列在方法声明中的参数。例如存在对象 <code>Employee employee</code>，调用它的 <code>setName</code> 方法：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// setName(String name)</span>
employee<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;mike&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其中 <code>employee</code> 就是隐式参数，<code>name</code> 就是显式参数。如果我们在 <code>setName</code> 中使用 <code>this</code> ：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此时的 <code>this</code> 就是上面的 <code>employee</code>。</p> <h3 id="可变参数的方法"><a href="#可变参数的方法" class="header-anchor">#</a> 可变参数的方法</h3> <p>在 Java 5.0 之后，提供了一种可变参数的写法 ：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们可以这样子调用：</p> <ul><li><code>x.setName(&quot;a&quot;)</code></li> <li><code>x.setName(&quot;a&quot;, &quot;b&quot;)</code></li> <li><code>x.setName(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></li> <li><code>x.setName(new String[] {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})</code> 等等</li></ul> <p>无论多少个参数都可以。这就是可变参数的写法，通过 <code>...</code> 表示该参数是动态的，可以为一个或多个。<strong style="color:#3EAF7C;">其实质相当于 <code>String[] name</code>。</strong></p> <h3 id="参数传递"><a href="#参数传递" class="header-anchor">#</a> 参数传递</h3> <p>将参数传递给方法的时候，通过有两种情况：</p> <ul><li><strong style="color:#3EAF7C;">值传递（call by value）</strong> ———— 表示方法接收的是调用者提供的<strong style="color:#3EAF7C;">值</strong></li> <li><strong style="color:#3EAF7C;">引用传递（call by reference）</strong> ———— 表示方法接收的是调用者提供的<strong style="color:#3EAF7C;">变量地址</strong></li></ul> <p>不过在 Java 是<strong>完全</strong>的值传递，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">tripleValue</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">*=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后调用这个方法：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">tripleValue</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token class-name">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>程序执行完后，a 的值依旧是10，因为<strong style="color:#3EAF7C;"> x 只是 a 的一个拷贝</strong>。</p> <p>不过，在 Java 中，除了基本数据类型，还有引用数据类型，下面我们来看看传递一个引用对象会怎样：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">tripleValue</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">.</span><span class="token function">setSalary</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的代码当我们真正调用时，是可以改变传入给方法中的 <code>Employee</code> 对象的值的。但这是不是说，当我传递对象给方法的时候，其实是引用传递呢？</p> <p>其实并不是的，因为我们传递给方法里的，依旧是一个拷贝，只不过，这次<strong style="color:#3EAF7C;">拷贝的是引用的地址</strong>。其内存图如下：</p> <p><img src="/images/java_object3.png" alt="对象3"></p> <p>总结一下：</p> <ol><li>一个方法不能修改基本数据类型的参数</li> <li>一个方法可以修改一个对象参数的状态</li> <li>一个方法不能让一个对象参数引用一个新的对象</li></ol> <h3 id="更改器方法和访问器方法"><a href="#更改器方法和访问器方法" class="header-anchor">#</a> 更改器方法和访问器方法</h3> <p>这两种方法都是相对于实例域的，区别在于：</p> <ul><li>如果<strong style="color:#3EAF7C;">某个方法只访问对象而不修改对象</strong>，就称为访问器方法（accessor method）</li> <li>如果<strong style="color:#3EAF7C;">某方法调用后会修改对象的状态</strong>，例如 <code>GregorianCalendar</code> 类的 <code>Add</code> 方法，这种方法就称为更改器方法</li></ul> <h3 id="构造函数"><a href="#构造函数" class="header-anchor">#</a> 构造函数</h3> <p>构造函数用来定义对象的初始状态，Java 提供了多种编写改造函数的方法</p> <h4 id="默认域初始化"><a href="#默认域初始化" class="header-anchor">#</a> 默认域初始化</h4> <p>如果我们在构造器中没有显式的给域进行赋值，则会被自动赋予默认值，其中：</p> <ul><li>数值型的默认值为 0</li> <li>布尔型的默认值为 false</li> <li>引用类型的默认值为 null</li></ul> <blockquote><p>该种方式完全不建议使用，如果想要赋予默认值，也最好手动初始化</p></blockquote> <h4 id="显式域初始化"><a href="#显式域初始化" class="header-anchor">#</a> 显式域初始化</h4> <p>如果对于某一个域我们想无论调用哪种构造函数，都可以赋予一样的值的话，就可以采用显式域初始化，也就是不通过构造函数来初始化，直接在域声明时初始化：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是要注意的是，<strong style="color:#3EAF7C;">显式域初始化的赋值操作，是比执行构造器要早的。</strong>也就是说，如果我们在后面构造器中又给 <code>name</code> 赋值了，会覆盖掉这个初始化值。</p> <p>如果对初始化值有一定要求，我们还可以通过函数来初始化：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> nextId<span class="token punctuation">;</span>  <span class="token comment">// 默认初始化值 0</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> id <span class="token operator">=</span> <span class="token function">assignId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">assignId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> r <span class="token operator">=</span> nextId<span class="token punctuation">;</span>
    nextId <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="默认构造器"><a href="#默认构造器" class="header-anchor">#</a> 默认构造器</h4> <p>如果在编写一个类时，没有编写构造器，那么系统就会提供一个<strong style="color:#3EAF7C;">默认的无参构造器</strong>，并对所有的实例域初始化为默认域值。</p> <blockquote><p>不过要注意的是，如果我们自己提供了任意一个有参构造器，该无参构造器都不会被提供。</p></blockquote> <h4 id="重载"><a href="#重载" class="header-anchor">#</a> 重载</h4> <p>有些类可能存在多个有参构造器，每个构造器的参数类型、参数个数不一样，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这种特征就叫做重载（overload），它们存在<strong style="color:#3EAF7C;">相同的名字，参数的个数、顺序不同</strong>。</p> <blockquote><p>注意，重载适用于任何方法，不止是构造器</p></blockquote> <h4 id="初始化块"><a href="#初始化块" class="header-anchor">#</a> 初始化块</h4> <p>除了在构造器中设置值、在声明域时赋值，还有一种叫做 <strong style="color:#3EAF7C;">构造代码块</strong> 的方式：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

  <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">&quot;ss&quot;</span><span class="token punctuation">;</span>
    age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这个代码块的执行顺序，是跟声明域时初始化同级的，<strong style="color:#3EAF7C;">如果同时存在声明时初始化和代码块，则按照顺序执行。</strong>总之构造函数是最后执行的。</p> <h3 id="调用构造器顺序"><a href="#调用构造器顺序" class="header-anchor">#</a> 调用构造器顺序</h3> <p>下面总结一下当我们执行一个 <code>new Employee()</code> 时，所执行的流程：</p> <ol><li>所有的数据域都被初始化为默认值</li> <li>按照在类声明中出现的次序，依次执行所有的域初始化语句和初始块</li> <li>如果构造器第一行调用了别的构造器，则执行别的构造器主体</li> <li>执行构造器主体</li></ol> <h2 id="final-和-static"><a href="#final-和-static" class="header-anchor">#</a> final 和 static</h2> <p>final 和 static 都是 java 中比较常用的关键字，所以我们需要搞清楚它们之间的区别是什么：</p> <h3 id="final"><a href="#final" class="header-anchor">#</a> final</h3> <p>final 可以用来修饰 类、变量、方法。</p> <h4 id="final-修饰变量"><a href="#final-修饰变量" class="header-anchor">#</a> final 修饰变量</h4> <blockquote><p>它表示这个变量只能被赋值一次，一旦被赋值之后，就不能够被更改了。</p></blockquote> <p>被final修饰的变量称为常量，一经初始化，无法修改，变量又分为成员变量和局部变量两种情况：</p> <ul><li>成员变量： final 修饰成员变量，不需要立即初始化，但必须在构造函数中进行初始化</li> <li>局部变量： 需要立即初始化才能使用</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果经常希望某个常量可以在一个类中的多个方法使用，可以把这个常量称为 类常量，可以使用关键字 <strong>static final</strong> 修饰。</p></div> <h4 id="final-修饰方法"><a href="#final-修饰方法" class="header-anchor">#</a> final 修饰方法</h4> <p>final修饰的方法不能被重写，但是可以被重载</p> <h4 id="final-修饰类"><a href="#final-修饰类" class="header-anchor">#</a> final 修饰类</h4> <p>final修饰的类不能被继承，如果类被final修饰了，则类中的方法都会全部变为 final 方法，<strong style="color:#3EAF7C;">但是不包括类中的域</strong>。</p> <h3 id="static"><a href="#static" class="header-anchor">#</a> static</h3> <p>static 表示静态的意思，一旦某个方法或者某个域被修饰了 static 修饰符，就证明了它属于<strong style="color:#3EAF7C;">类的成员</strong>。这些类成员会在类<strong style="color:#3EAF7C;">第一次加载</strong>的时候，进行初始化。</p> <p>static 一般用来修饰变量和方法，下面来了解下这两种的区别</p> <h4 id="static-修饰域"><a href="#static-修饰域" class="header-anchor">#</a> static 修饰域</h4> <p>当对域添加了 static 修饰时，代表了这个类中只有一个这个的域，被这个类所有的对象共享。例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> nextId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>无论创建多少了 <code>Employee</code> 对象，每个对象都会有一份属于自己的 <code>id</code> 域的拷贝，但是每个对象实例都将<strong style="color:#3EAF7C;">共享</strong>一个 <code>nextId</code> 域。</p> <h4 id="static-修饰方法"><a href="#static-修饰方法" class="header-anchor">#</a> static 修饰方法</h4> <p>被 static 修饰的方法称为静态方法，这种方法<strong style="color:#3EAF7C;">不能对对象状态实时操作</strong>。也就是说，不能够在静态方法中访问实例域，也就是说，静态方法是没有隐式对象的，即没有 <code>this</code>。 例如在 <code>Employee</code> 的静态方法中，不能访问 <code>id</code> 实例域 ：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> nextId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// System.out.println(id)  // error, won't work!</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nextId<span class="token punctuation">)</span>  <span class="token comment">// can work!</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2020-2-26 9:02:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/baseJava/Java 介绍.html" class="prev">
        Java 介绍
      </a></span> <span class="next"><a href="/java/baseJava/继承.html">
        继承
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.78cba7d9.js" defer></script><script src="/assets/js/2.b97de27f.js" defer></script><script src="/assets/js/29.4e592fcf.js" defer></script>
  </body>
</html>
