(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{232:function(s,t,a){"use strict";a.r(t);var e=a(28),v=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql-æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-æ¶æ„"}},[s._v("#")]),s._v(" MySQL æ¶æ„")]),s._v(" "),a("p",[s._v("æƒ³è¦ç†Ÿæ‚‰ MySQLï¼Œé¦–å…ˆå°±å¾—æ¸…æ¥š MySQL ä¸­çš„è®¾è®¡æ¶æ„ï¼Œåˆ†åˆ«æœ‰å“ªäº›æ¨¡å—ï¼Œæ¨¡å—å¯¹åº”çš„åŠŸèƒ½åˆæ˜¯ä»€ä¹ˆã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç» MySQL çš„æ¶æ„ã€‚")]),s._v(" "),a("h2",{attrs:{id:"é€»è¾‘æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€»è¾‘æ¶æ„"}},[s._v("#")]),s._v(" é€»è¾‘æ¶æ„")]),s._v(" "),a("p",[s._v("é¦–å…ˆçœ‹ä¸€ä¸‹ MySQL çš„æ¶æ„å›¾ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"/mysql_img/mysql-jiagou.jpg",alt:"mysqljiagoutu"}})]),s._v(" "),a("p",[s._v("éœ€è¦é‡ç‚¹å…³æ³¨çš„æ˜¯ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Connection Pool")]),s._v(" è¿æ¥æ± ")]),s._v(" "),a("li",[a("code",[s._v("SQL Interface")]),s._v(" SQLæ¥å£å±‚")]),s._v(" "),a("li",[a("code",[s._v("Parser")]),s._v(" è§£æå™¨")]),s._v(" "),a("li",[a("code",[s._v("Optimizer")]),s._v(" ä¼˜åŒ–å™¨")]),s._v(" "),a("li",[a("code",[s._v("Cache & Buffers")]),s._v(" ç¼“å­˜")]),s._v(" "),a("li",[a("code",[s._v("Pluggable Storage Engines")]),s._v(" æ’æ‹”å¼å­˜å‚¨å¼•æ“")])]),s._v(" "),a("h3",{attrs:{id:"é€»è¾‘æ¶æ„å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€»è¾‘æ¶æ„å›¾"}},[s._v("#")]),s._v(" é€»è¾‘æ¶æ„å›¾")]),s._v(" "),a("p",[a("img",{attrs:{src:"/mysql_img/sqlshunxu.jpg",alt:"image"}})]),s._v(" "),a("h3",{attrs:{id:"sql-æ‰§è¡Œé¡ºåº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql-æ‰§è¡Œé¡ºåº"}},[s._v("#")]),s._v(" SQL æ‰§è¡Œé¡ºåº")]),s._v(" "),a("h4",{attrs:{id:"è¿æ¥æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿æ¥æ± "}},[s._v("#")]),s._v(" è¿æ¥æ± ")]),s._v(" "),a("p",[s._v("è¿æ¥æ± è´Ÿè´£ç®¡ç†ç”¨æˆ·çš„è¿æ¥ï¼Œå½“ç”¨æˆ·é€šè¿‡ç½‘ç»œå¾€ "),a("code",[s._v("MySQL")]),s._v(" å‘èµ·è¿æ¥è¯·æ±‚æ—¶ï¼Œå°±ä¼šé€šè¿‡è¿™ä¸ªæ¨¡å—è¿›è¡Œç®¡ç†ï¼Œä¹Ÿå°±æ˜¯ä»¥ä¸‹å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h$ip "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("P$port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å½“å®Œæˆ TCP è¿æ¥åï¼Œå°±ä¼šæ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å¦‚æœå¯†ç é”™è¯¯ï¼Œå°±ä¼šæŠ¥å‡ºé”™è¯¯ "),a("code",[s._v("Access denied for user")])]),s._v(" "),a("li",[s._v("å¦‚æœéªŒè¯é€šè¿‡ï¼Œ"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("å°±ä¼šå»æƒé™è¡¨ä¸­åŠ è½½å½“å‰ç”¨æˆ·æ‹¥æœ‰çš„æƒé™ï¼Œå¹¶ä¸”ä¹‹åè¿™æ¡è¿æ¥çš„æƒé™åˆ¤æ–­çš„é€»è¾‘ï¼Œéƒ½ä¾èµ–æ­¤æ—¶è¯»åˆ°çš„é€»è¾‘")])])]),s._v(" "),a("blockquote",[a("p",[s._v("å› ä¸ºå¦‚æœç®¡ç†å‘˜åœ¨ç”¨æˆ· A ç™»å½•åï¼Œå†ä¿®æ”¹ç”¨æˆ· A çš„æƒé™æ˜¯ä¸ä¼šèµ·ä½œç”¨çš„ã€‚ä¿®æ”¹åçš„æƒé™åªå¯¹æ–°è¿æ¥èµ·ä½œç”¨")])]),s._v(" "),a("p",[s._v("è¿æ¥æˆåŠŸåï¼Œå¦‚æœæ²¡æœ‰åç»­æ“ä½œï¼Œè¯¥æ¡è¿æ¥å°±ä¼šè¿›å…¥"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("ç©ºé—²çŠ¶æ€")]),s._v("ï¼Œç›´åˆ° Mysql å°†å…¶æ–­å¼€ã€‚è¿™ä¸ªæŒç»­æ—¶é—´é»˜è®¤æ˜¯ 8 å°æ—¶ï¼Œå¯ä»¥é€šè¿‡å‚æ•° "),a("code",[s._v("wait_timeout")]),s._v(" æ§åˆ¶ã€‚")]),s._v(" "),a("p",[s._v("å¦‚æœæƒ³æŸ¥è¯¢ç©ºé—²è¿æ¥ï¼Œå¯ä»¥é€šè¿‡ "),a("code",[s._v("show processlist")]),s._v(" æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿æ¥çš„çŠ¶æ€ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://static001.geekbang.org/resource/image/f2/ed/f2da4aa3a672d48ec05df97b9f992fed.png",alt:"image"}})]),s._v(" "),a("p",[s._v("å¦‚æœè¶…æ—¶æ–­å¼€åï¼Œå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œåˆ™ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯æç¤º ï¼š "),a("code",[s._v("Lost connection to MySQL server during query")]),s._v(" ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é‡æ–°è¿æ¥åæ‰èƒ½å‘èµ·è¯·æ±‚ã€‚")]),s._v(" "),a("h5",{attrs:{id:"é•¿è¿æ¥ä¸çŸ­è¿æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é•¿è¿æ¥ä¸çŸ­è¿æ¥"}},[s._v("#")]),s._v(" é•¿è¿æ¥ä¸çŸ­è¿æ¥")]),s._v(" "),a("p",[s._v("æ•°æ®åº“é‡Œè¿æ¥ä¸€å…±åˆ†ä¸ºé•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼Œå…¶ä¸­ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("é•¿è¿æ¥æ˜¯æŒ‡è¿æ¥æˆåŠŸåï¼Œå®¢æˆ·ç«¯ä¸æ–­æœ‰è¯·æ±‚å‘é€ï¼Œæ­¤æ—¶ä¼šä¸€ç›´ä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚")]),s._v(" "),a("li",[s._v("è€ŒçŸ­è¿æ¥æ˜¯æ¯æ¬¡æ‰§è¡Œå®Œå¾ˆå°‘çš„å‡ æ¬¡æŸ¥è¯¢å°±ä¼šæ–­å¼€è¿æ¥ï¼Œä¸‹æ¬¡æŸ¥è¯¢é‡æ–°å»ºç«‹ä¸€ä¸ªã€‚")])]),s._v(" "),a("p",[s._v("å»ºç«‹è¿æ¥çš„è¿‡ç¨‹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå› æ­¤"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("å»ºè®®é€šå¸¸ä½¿ç”¨é•¿è¿æ¥")]),s._v("ï¼Œ å³è¿æ¥æ± ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯å¦‚æœå¤§é‡ä½¿ç”¨é•¿è¿æ¥ï¼Œåˆ™ä¼šå‡ºç°å†…å­˜æš´æ¶¨çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸º "),a("strong",[s._v("MySQL")]),s._v(" åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶ä½¿ç”¨çš„å†…å­˜æ˜¯ç®¡ç†åœ¨è¿æ¥å¯¹è±¡é‡Œé¢çš„ï¼Œåªè¦è¿™äº›èµ„æºæ²¡è¢«é‡Šæ”¾ï¼Œå†…å­˜ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ã€‚")]),s._v(" "),a("p",[s._v("å› æ­¤ä¸ºäº†è§£å†³è¯¥æ–¹æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å®šæœŸæ–­å¼€é•¿è¿æ¥")]),s._v(" "),a("li",[s._v("å¦‚æœæ˜¯ 5.7 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡ "),a("strong",[s._v("mysql_reset_connection")]),s._v(" æ¥é‡æ–°åˆå§‹åŒ–è¿æ¥èµ„æºï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦é‡è¿å’Œæƒé™éªŒè¯ï¼Œåªä¼šå°†è¿æ¥æ¢å¤åˆ°åˆšåˆšåˆ›å»ºæ—¶çš„çŠ¶æ€ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"sql-æ¥å£å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql-æ¥å£å±‚"}},[s._v("#")]),s._v(" SQL æ¥å£å±‚")]),s._v(" "),a("p",[s._v("è¿æ¥æˆåŠŸåï¼Œå‘èµ·æŸ¥è¯¢è¯·æ±‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™æ—¶å°±ä¼šè¢« SQL æ¥å£å±‚æ¥å—è¯¥æ¡ SQL, "),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("ç„¶ååˆ¤æ–­è¯¥ç”¨æˆ·æ˜¯å¦æœ‰æ“ä½œè¿™ä¸ªè¡¨çš„æƒé™")]),s._v("ï¼Œå¦‚æœæœ‰å°±ä¼ é€’è§£æå™¨è¿›è¡Œå¤„ç†ã€‚")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("å…¶å®åœ¨ä¼ é€’ç»™è§£æå™¨ä¹‹å‰ï¼Œä¼šå…ˆå» Cache ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä¸è¿‡ 8.0 åå°±å·²ç»ç§»é™¤ç¼“å­˜äº†ï¼Œè¿™ä¸ªç¼“å­˜çš„ä½œç”¨å¹¶ä¸å¤§ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"æŸ¥è¯¢ç¼“å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥è¯¢ç¼“å­˜"}},[s._v("#")]),s._v(" æŸ¥è¯¢ç¼“å­˜")]),s._v(" "),a("blockquote",[a("p",[s._v("mysql 8.0 åç§»é™¤äº†è¿™ä¸ªæ¨¡å—")])]),s._v(" "),a("p",[s._v("MySQLæ‹¿åˆ°ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚åï¼Œä¼šå…ˆåˆ°æŸ¥è¯¢ç¼“å­˜ä¸­æŸ¥çœ‹è¯¥æ¡è¯­å¥æ˜¯å¦è¢«æ‰§è¡Œè¿‡ï¼Œä¹‹å‰æ‰§è¡Œè¿‡çš„è¯­å¥å’ŒæŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¼šä»¥ "),a("code",[s._v("key-value")]),s._v(" çš„å½¢å¼ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå…¶ä¸­ "),a("code",[s._v("key")]),s._v(" æ˜¯æŸ¥è¯¢çš„è¯­å¥ï¼Œ"),a("code",[s._v("value")]),s._v(" æ˜¯æŸ¥è¯¢çš„ç»“æœã€‚")]),s._v(" "),a("p",[s._v("å¦‚æœæˆ‘ä»¬çš„æŸ¥è¯¢è¯­å¥å¯ä»¥ç›´æ¥åœ¨ç¼“å­˜ä¸­æ‰¾åˆ°å¯¹åº”çš„ "),a("code",[s._v("key")]),s._v("ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼Œä¸ç”¨ç»§ç»­èµ°ä¸‹é¢å¤æ‚çš„æµç¨‹ã€‚å› æ­¤è¿™æ ·çš„æ•ˆç‡æ˜¯å¾ˆé«˜çš„ï¼")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸å»ºè®®ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ï¼Œå®ƒä¼šå¼Šå¤§äºåˆ©ï¼Œå› ä¸º"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("åªè¦æœ‰ä¸€æ¡è®°å½•å¯¹è¿™ä¸ªè¡¨è¿›è¡Œæ›´æ–°ï¼Œè¿™ä¸ªè¡¨ä¸Šçš„æ‰€æœ‰æŸ¥è¯¢ç¼“å­˜éƒ½ä¼šå¤±æ•ˆï¼Œ")]),s._v("å› æ­¤æŸ¥è¯¢ç¼“å­˜åªèƒ½æœ‰æ•ˆç”¨äºé™æ€è¡¨ï¼Œä¾‹å¦‚ ç³»ç»Ÿé…ç½®è¡¨ã€‚")]),s._v(" "),a("p",[s._v("å› æ­¤ï¼ŒMySQL ä¹Ÿæä¾›äº†ä¸€ç§æ–¹å¼è®©æˆ‘ä»¬æŒ‰éœ€ç´¢å–è¯¥åŠŸèƒ½ï¼Œå³æˆ‘ä»¬å¯ä»¥å°†å‚æ•° "),a("code",[s._v("query_cache_type")]),s._v(" è®¾ç½®æˆ "),a("code",[s._v("DEMAND")]),s._v(", è¿™æ ·å¯¹äºé»˜è®¤çš„æŸ¥è¯¢SQLéƒ½ä¸ä¼šä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚")]),s._v(" "),a("p",[s._v("å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°æŸ¥è¯¢ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æ˜¾ç¤ºæŒ‡å®š "),a("code",[s._v("SQL_CACHE")]),s._v(" :")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" SQL_CACHE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" T "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("ï¼›\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"è§£æå™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£æå™¨"}},[s._v("#")]),s._v(" è§£æå™¨")]),s._v(" "),a("p",[s._v("è§£æå™¨æ‹¿åˆ° SQL è¯­å¥åï¼Œä¼šè¿›è¡Œä¸¤æ­¥è§£æï¼š")]),s._v(" "),a("ul",[a("li",[s._v("è¯æ³•è§£æ")]),s._v(" "),a("li",[s._v("è¯­æ³•è§£æ")])]),s._v(" "),a("p",[s._v("å…¶ä¸­è¯æ³•è§£æå°±æ˜¯è§£å‰– SQL è¯­å¥ï¼Œå°†å…¶ä¸­çš„æ¯ä¸ªå•è¯éƒ½åˆ†ç¦»å‡ºæ¥ï¼ŒæŒ‚è½½åˆ°ä¸€é¢—è¯­æ³•æ ‘ä¸Šï¼Œå¤§æ¦‚æ˜¯è¿™ç§æ•ˆæœï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"/mysql_img/mysql_cifajiexi.jpg",alt:"IMAGE"}})]),s._v(" "),a("p",[s._v("è¯æ³•è§£æå®Œæˆåå°±ä¼šè¿›è¡Œè¯­æ³•è§£æï¼ŒMySQL ä¼šåˆ¤æ–­ä½ çš„ SQL è¯­å¥å­˜ä¸å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚å¦‚æœå­˜åœ¨é”™è¯¯ï¼Œä¸€èˆ¬ä¼šæŠ¥å‡ºè¿™æ ·çš„å¼‚å¸¸ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("You have an error "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" your "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v(" syntax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" the manual that corresponds "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" your MySQL server version "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" syntax "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" near "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'elect * from t where ID=1'")]),s._v(" at line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("ä¸€èˆ¬è¯­æ³•ä¼šæç¤ºç¬¬ä¸€ä¸ªå‡ºç°é”™è¯¯çš„ä½ç½®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…³æ³¨ç´§æ¥ use near åé¢çš„å†…å®¹")])]),s._v(" "),a("h4",{attrs:{id:"ä¼˜åŒ–å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–å™¨"}},[s._v("#")]),s._v(" ä¼˜åŒ–å™¨")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("æ€§èƒ½ä¼˜åŒ–å°±æ˜¯æŒ‡çš„è¿™ä¸€å—äº†")])]),s._v(" "),a("p",[s._v("ç»è¿‡äº†åˆ†æå™¨åï¼ŒMySQL å·²ç»çŸ¥é“æˆ‘ä»¬è¦åšä»€ä¹ˆäº†ï¼Œç„¶ååœ¨æ‰§è¡Œå‰ï¼Œè¿˜è¦å…ˆç»è¿‡ ä¼˜åŒ–å™¨ ä¸ºæˆ‘ä»¬çš„ SQL è¿›è¡Œä¼˜åŒ–ã€‚")]),s._v(" "),a("p",[s._v("ä¼˜åŒ–å™¨æ˜¯åœ¨ä¸€ä¸ªè¡¨æœ‰å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå†³å®šä½¿ç”¨å“ªä¸ªç´¢å¼•ï¼›æˆ–è€…åœ¨ä¸€ä¸ªè¯­å¥æœ‰å¤šè¡¨å…³è”çš„æ—¶å€™ï¼Œå†³å®šå„ä¸ªè¡¨çš„è¿æ¥é¡ºåºï¼Œä¾‹å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",[a("li",[s._v("æ—¢å¯ä»¥å…ˆä»è¡¨ t1 ä¸­å–å‡º c=10çš„æ•°æ®ï¼Œç„¶åå†è·Ÿ t2 è¿æ¥ï¼Œå†åˆ¤æ–­ t2.d=20 çš„æ•°æ®ã€‚")]),s._v(" "),a("li",[s._v("ä¹Ÿå¯ä»¥å…ˆä»è¡¨ t2 é‡Œé¢å–å‡º d=20 çš„è®°å½•çš„ ID å€¼ï¼Œå†æ ¹æ® ID å€¼å…³è”åˆ° t1ï¼Œå†åˆ¤æ–­ t1 é‡Œé¢ c çš„å€¼æ˜¯å¦ç­‰äº 10ã€‚")])]),s._v(" "),a("p",[s._v("è¿™ä¸¤ç§æ–¹æ¡ˆæœ€ç»ˆå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ•ˆç‡å¯èƒ½è¯†ä¸åŒçš„ï¼Œå› æ­¤è¿™å°±æ˜¯ä¼˜åŒ–å™¨çš„å·¥ä½œã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("ä¼˜åŒ–å™¨ä¸ä¸€å®šæ˜¯æ¯æ¬¡éƒ½èƒ½åšåˆ° æé«˜æ•ˆç‡çš„ä¼˜åŒ–ï¼")])]),s._v(" "),a("h4",{attrs:{id:"æ‰§è¡Œå™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œå™¨"}},[s._v("#")]),s._v(" æ‰§è¡Œå™¨")]),s._v(" "),a("p",[s._v("MySQL é€šè¿‡åˆ†æå™¨åˆ†æä½ è¦åšä»€ä¹ˆï¼Œé€šè¿‡ä¼˜åŒ–å™¨çŸ¥é“è¦æ€ä¹ˆåšï¼Œç„¶åå°±æ¥åˆ°æœ€åä¸€æ­¥ æ‰§è¡Œå™¨ é˜¶æ®µäº†ã€‚")]),s._v(" "),a("p",[s._v("åœ¨æ‰§è¡Œè¯­å¥å‰ï¼Œä¼šå…ˆåˆ¤æ–­ä½ å¯¹è¿™ä¸ªè¡¨æœ‰æ²¡æœ‰æ“ä½œæƒé™ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šè¿”å›æ²¡æœ‰æƒé™çš„é”™è¯¯ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" * from T where "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1142")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": SELECT "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" denied to user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" table "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'T'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„")]),s._v(" "),a("p",[s._v("å¦‚æœè¯­å¥å‘½ä¸­äº†æŸ¥è¯¢ç¼“å­˜ï¼Œä¹Ÿä¼šåœ¨è¿”å›ç»“æœä¹‹å‰æŸ¥çœ‹æ˜¯å¦æœ‰æƒé™ã€‚åŒæ—¶ï¼Œåœ¨ä¼˜åŒ–å™¨ä¹‹å‰ä¹Ÿä¼šè°ƒç”¨ precheck åšæƒé™éªŒè¯ã€‚")])]),s._v(" "),a("p",[s._v("å¦‚æœå­˜åœ¨æƒé™ï¼Œåˆ™ä¼šæ‰“å¼€è¡¨ç»§ç»­æ‰§è¡Œï¼Œæ‰“å¼€è¡¨çš„æ—¶å€™ï¼Œæ‰§è¡Œå™¨å°±ä¼šæ ¹æ®è¿™ä¸ªè¡¨çš„å­˜å‚¨å¼•æ“å®šä¹‰ï¼Œå»ä½¿ç”¨è¿™ä¸ªå¼•æ“æä¾›çš„æ¥å£ã€‚")]),s._v(" "),a("p",[s._v("æ¯”å¦‚ä¸Šé¢çš„è¿™ä¸€æ¡SQL,æ‰§è¡Œå™¨çš„æ‰§è¡Œæµç¨‹å°±æ˜¯è¿™æ ·çš„ï¼ˆIDå¹¶ä¸æ˜¯ä¸»é”®ï¼Œä¸å­˜åœ¨ç´¢å¼•ï¼‰ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("è°ƒç”¨ InnoDB å¼•æ“æ¥å£å–è¿™ä¸ªè¡¨çš„ç¬¬ä¸€è¡Œï¼Œåˆ¤æ–­ ID æ˜¯å¦ç­‰äº 10ï¼Œå¦‚æœä¸æ˜¯åˆ™è·³è¿‡ï¼Œå¦‚æœæ˜¯åˆ™å°† è¯¥è®°å½•å­˜å‚¨åˆ°ç»“æœé›†ä¸­ã€‚")]),s._v(" "),a("li",[s._v("è°ƒç”¨å¼•æ“å–ä¸‹ä¸€è¡Œï¼Œä»¥æ­¤ç±»æ¨ã€‚ç›´åˆ°å–åˆ°è¿™ä¸ªè¡¨çš„æœ€åä¸€è¡Œ")]),s._v(" "),a("li",[s._v("ç„¶åå°†æœ€ç»ˆçš„"),a("strong",[s._v("è¡Œè®°å½•é›†")]),s._v("è¿”å›ç»™å®¢æˆ·ç«¯")])]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥åœ¨ æ…¢æŸ¥è¯¢æ—¥å¿— ä¸­çœ‹åˆ°ä¸€ä¸ª "),a("code",[s._v("row_examined")]),s._v(" çš„å­—æ®µï¼Œè¡¨ç¤ºäº†è¿™æ¡ "),a("code",[s._v("SQL")]),s._v(" æ‰«æäº†å¤šå°‘è¡Œï¼Œè¿™ä¸ªå€¼å°±æ˜¯æ‰§è¡Œå™¨è°ƒç”¨å­˜å‚¨å¼•æ“è·å–æ•°æ®è¡Œçš„æ—¶å€™ç´¯åŠ çš„ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("åœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œæ‰§è¡Œå™¨è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨å¼•æ“å†…éƒ¨åˆ™æ‰«æäº†å¤šè¡Œï¼Œå› æ­¤å¼•æ“æ‰«æè¡Œæ•°è·Ÿ "),a("code",[s._v("rows_examined")]),s._v(" å¹¶ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚")])]),s._v(" "),a("p",[s._v("è‡³æ­¤ï¼Œä¸€æ¡SQLå·²ç»æ‰§è¡Œå®Œæ¯•äº†ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å­˜å‚¨å¼•æ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å¼•æ“"}},[s._v("#")]),s._v(" å­˜å‚¨å¼•æ“ ğŸ’¥")]),s._v(" "),a("p",[s._v("åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œé€šå¸¸å¯ä»¥"),a("strong",[s._v("ä¸ºè¡¨æŒ‡å®š")]),s._v("ä¸€ä¸ªå­˜å‚¨å¼•æ“ï¼Œå®ƒè§„å®šäº†è¡¨ä¸­æ•°æ®ã€ç´¢å¼•çš„å­˜å‚¨ç»“æ„ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("engine")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Memory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("MyISAM\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("è¡¨ä¸€æ—¦è¢«åˆ›å»ºï¼Œå­˜å‚¨ç»“æ„å°±æ— æ³•è¢«æ”¹å˜ã€‚")])]),s._v(" "),a("p",[s._v("ä¸Šé¢æŒ‡å®šçš„ "),a("code",[s._v("InnoDB")]),s._v(" ã€"),a("code",[s._v("MyISAM")]),s._v("ã€"),a("code",[s._v("Memory")]),s._v(" å°±æ˜¯ MySQL ä¸­æœ€å¸¸ç”¨çš„ä¸‰ç§å­˜å‚¨å¼•æ“äº†ã€‚")]),s._v(" "),a("h3",{attrs:{id:"memory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#memory"}},[s._v("#")]),s._v(" Memory")]),s._v(" "),a("p",[a("code",[s._v("Memory")]),s._v(" æ˜¯å†…å­˜å­˜å‚¨å¼•æ“ï¼Œç‰¹ç‚¹æ˜¯"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("å­˜å‚¨ã€æŸ¥è¯¢é€Ÿåº¦æå¿«ï¼Œä½†æ˜¯ä¸èƒ½æŒä¹…åŒ–æ•°æ®ï¼Œé€‚åˆå­˜å‚¨ç³»ç»Ÿçš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä¼šåŠ è½½")]),s._v("ã€‚å¯¹äºæ ¸å¿ƒæ•°æ®ä¸å»ºè®®ä½¿ç”¨è¯¥å­˜å‚¨å¼•æ“ï¼Œå› ä¸ºä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚")]),s._v(" "),a("h3",{attrs:{id:"myisam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#myisam"}},[s._v("#")]),s._v(" MyISAM")]),s._v(" "),a("p",[a("code",[s._v("MyISAM")]),s._v(" æ˜¯ MySQL åŸç”Ÿæ”¯æŒçš„å­˜å‚¨å¼•æ“ï¼Œå®ƒæ‹¥æœ‰"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("è¾ƒé«˜çš„å­˜å‚¨æ•ˆç‡")]),s._v("ã€‚ä½†æ˜¯å®ƒä¸æ”¯æŒäº‹åŠ¡ã€ä¸æ”¯æŒè¡Œé”ã€‚")]),s._v(" "),a("h3",{attrs:{id:"innodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#innodb"}},[s._v("#")]),s._v(" InnoDB")]),s._v(" "),a("p",[a("code",[s._v("InnoDB")]),s._v(" æ˜¯ç”±ç¬¬ä¸‰æ–¹å…¬å¸å¼€å‘çš„ï¼Œå®ƒçš„æ’å…¥ã€æŸ¥è¯¢é€Ÿåº¦æ¯” "),a("code",[s._v("MyISAM")]),s._v(" è¦ç¨å¾®æ…¢äº›ï¼Œä½†æ˜¯å®ƒ"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ã€å›æ»šã€å´©æºƒæ¢å¤ä»¥åŠå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶")]),s._v("ã€‚")]),s._v(" "),a("h3",{attrs:{id:"innodb-å’Œ-myisam-çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#innodb-å’Œ-myisam-çš„åŒºåˆ«"}},[s._v("#")]),s._v(" InnoDB å’Œ MyISAM çš„åŒºåˆ« â“")]),s._v(" "),a("p",[a("img",{attrs:{src:"/mysql_img/innodbandmyisam.jpg",alt:"ima"}})]),s._v(" "),a("h3",{attrs:{id:"æŠ€æœ¯é€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯é€‰å‹"}},[s._v("#")]),s._v(" æŠ€æœ¯é€‰å‹")]),s._v(" "),a("ol",[a("li",[s._v("å¦‚æœå¯¹æ•°æ®çš„æ’å…¥ã€æŸ¥è¯¢æ€§èƒ½è¦æ±‚å¾ˆé«˜ï¼Œä½†æ˜¯ä¸éœ€è¦æ•°æ®çš„æŒä¹…åŒ–ï¼Œå¹¶ä¸”è¡¨çš„å¤§å°ä¸æ˜¯å¾ˆå¤§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ "),a("code",[s._v("Memory")]),s._v(" å­˜å‚¨å¼•æ“")]),s._v(" "),a("li",[s._v("å¦‚æœè¦æ±‚è¾ƒé«˜çš„æ’å…¥ã€æŸ¥è¯¢æ•ˆç‡ï¼Œå¯¹å¹¶å‘è¦æ±‚ä¸é«˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ "),a("code",[s._v("MyISAM")]),s._v(" å­˜å‚¨å¼•æ“")]),s._v(" "),a("li",[s._v("å¦‚æœéœ€è¦å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼ˆæ¯”å¦‚é“¶è¡Œï¼‰ï¼Œè¦æ±‚å®ç°å¹¶å‘æ§åˆ¶ï¼ˆæ¯”å¦‚å”®ç¥¨ï¼‰ï¼Œé‚£é€‰æ‹© "),a("code",[s._v("InnoDB")]),s._v(" æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚å¦‚æœéœ€è¦é¢‘ç¹çš„æ›´æ–°ã€åˆ é™¤æ“ä½œçš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© "),a("code",[s._v("InnoDB")]),s._v("ï¼Œå› ä¸ºæ”¯æŒäº‹åŠ¡çš„æäº¤"),a("code",[s._v("ï¼ˆcommitï¼‰")]),s._v("å’Œå›æ»š"),a("code",[s._v("ï¼ˆrollbackï¼‰")]),s._v("ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"ç‰©ç†æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‰©ç†æ¶æ„"}},[s._v("#")]),s._v(" ç‰©ç†æ¶æ„")]),s._v(" "),a("p",[s._v("MySQL å®é™…ä¸Šæ˜¯é€šè¿‡æ–‡ä»¶æ¥ç®¡ç†æ•°æ®ç´¢å¼•ä»¥åŠæ—¥å¿—çš„ï¼Œåœ¨ MySQL ä¸­ï¼Œä¸€å…±åˆ†ä¸ºä¸¤ç§æ–‡ä»¶ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ—¥å¿—æ–‡ä»¶")]),s._v(" "),a("li",[s._v("æ•°æ®ç´¢å¼•æ–‡ä»¶")])]),s._v(" "),a("p",[s._v("å…¶ä¸­æ—¥å¿—æ–‡ä»¶é‡‡ç”¨"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("é¡ºåºIO")]),s._v("çš„æ–¹å¼å†™å…¥ï¼Œé€Ÿåº¦å¿«ï¼Œç©ºé—´åˆ©ç”¨ç‡ä½ï¼Œæ•°æ®ç´¢å¼•æ–‡ä»¶é‡‡ç”¨"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("éšæœºIO")]),s._v("çš„æ–¹å¼å†™å…¥ï¼Œéœ€è¦è®°å½•åœ°å€ï¼Œæ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯ç©ºé—´åˆ©ç”¨ç‡é«˜")]),s._v(" "),a("p",[s._v("å¦å¤–ï¼ŒMySQLåœ¨ "),a("code",[s._v("Linux")]),s._v(" ä¸­çš„æ•°æ®ç´¢å¼•æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶éƒ½åœ¨ "),a("code",[s._v("/var/lib/mysql")]),s._v(" ç›®å½•ä¸‹ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"/mysql_img/FILE.jpg",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"æ—¥å¿—æ–‡ä»¶ç§ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥å¿—æ–‡ä»¶ç§ç±»"}},[s._v("#")]),s._v(" æ—¥å¿—æ–‡ä»¶ç§ç±»")]),s._v(" "),a("p",[s._v("MySQL ä¸­ï¼Œæ—¥å¿—æ–‡ä»¶æœ‰å¾ˆå¤šç§ï¼Œåˆ†åˆ«æ˜¯ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("é”™è¯¯æ—¥å¿— "),a("code",[s._v("error log")])]),s._v(" "),a("li",[s._v("é€šç”¨æŸ¥è¯¢æ—¥å¿— "),a("code",[s._v("general query log")])]),s._v(" "),a("li",[s._v("æ…¢æŸ¥è¯¢æ—¥å¿— "),a("code",[s._v("slow query log")])]),s._v(" "),a("li",[s._v("äºŒè¿›åˆ¶æ—¥å¿— "),a("code",[s._v("binlog")])]),s._v(" "),a("li",[s._v("é‡åšæ—¥å¿— "),a("code",[s._v("redo log")])]),s._v(" "),a("li",[s._v("å›æ»šæ—¥å¿— "),a("code",[s._v("undo log")])]),s._v(" "),a("li",[s._v("ä¸­ç»§æ—¥å¿— "),a("code",[s._v("relay log")])])]),s._v(" "),a("p",[s._v("å¦‚æœæƒ³è¦æŸ¥çœ‹æ—¥å¿—çš„å¼€å¯æƒ…å†µï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log_%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"é”™è¯¯æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é”™è¯¯æ—¥å¿—"}},[s._v("#")]),s._v(" é”™è¯¯æ—¥å¿—")]),s._v(" "),a("p",[a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œè€Œä¸”ä»5.5.7ä»¥åæ— æ³•å…³é—­é”™è¯¯æ—¥å¿—")]),s._v("ï¼Œé”™è¯¯æ—¥å¿—è®°å½•äº†è¿è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„æ‰€æœ‰ä¸¥é‡çš„é”™è¯¯ä¿¡æ¯,ä»¥åŠ MySQLæ¯æ¬¡å¯åŠ¨å’Œå…³é—­çš„è¯¦ç»†ä¿¡æ¯")]),s._v(" "),a("h3",{attrs:{id:"é€šç”¨æŸ¥è¯¢æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€šç”¨æŸ¥è¯¢æ—¥å¿—"}},[s._v("#")]),s._v(" é€šç”¨æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),a("p",[s._v("è¿™ä¸ªä¸€èˆ¬åœ¨ç”Ÿäº§ä¸­æ˜¯ä¸ä¼šå¼€å¯çš„ï¼Œå› ä¸ºå®ƒä¼šè®°å½•æ‰€æœ‰çš„ SQL æ“ä½œï¼Œååˆ†å½±å“æ€§èƒ½ã€‚")]),s._v(" "),a("h3",{attrs:{id:"æ…¢æŸ¥è¯¢æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ…¢æŸ¥è¯¢æ—¥å¿—"}},[s._v("#")]),s._v(" æ…¢æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),a("p",[s._v("SQL è°ƒä¼˜æ—¶ä½¿ç”¨ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€äº› SQL æ‰§è¡Œæ…¢çš„è¯­å¥ï¼Œé»˜è®¤æ˜¯å…³é—­çš„ã€‚éœ€è¦é€šè¿‡ä»¥ä¸‹è®¾ç½®è¿›è¡Œå¼€å¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("slow_query_log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ON\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ…¢æŸ¥è¯¢çš„é˜ˆå€¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("long_query_time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ—¥å¿—è®°å½•æ–‡ä»¶å¦‚æœæ²¡æœ‰ç»™å‡ºfile_nameå€¼ï¼Œ é»˜è®¤ä¸ºä¸»æœºåï¼Œåç¼€ä¸º-slow.logã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœç»™å‡ºäº†æ–‡ä»¶åï¼Œä½†ä¸æ˜¯ç»å¯¹è·¯å¾„åï¼Œæ–‡ä»¶åˆ™å†™å…¥æ•°æ®ç›®å½•ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("slow_query_log_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file_name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"äºŒè¿›åˆ¶æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒè¿›åˆ¶æ–‡ä»¶"}},[s._v("#")]),s._v(" äºŒè¿›åˆ¶æ–‡ä»¶ ğŸ‘")]),s._v(" "),a("p",[a("code",[s._v("bin log")]),s._v(" æ˜¯ MySQL ä¸­æœ€é‡è¦çš„æ—¥å¿—æ–‡ä»¶ä¹‹ä¸€ï¼Œå®ƒ"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("è®°å½•äº†æ•°æ®åº“æ‰€æœ‰çš„ddlè¯­å¥å’Œdmlè¯­å¥ï¼Œä½†ä¸åŒ…æ‹¬selectè¯­å¥å†…å®¹")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("è¯­å¥ä»¥äº‹ä»¶çš„å½¢å¼ä¿å­˜ï¼Œæè¿°äº†æ•°æ®çš„å˜æ›´é¡ºåºï¼Œbinlogè¿˜åŒ…æ‹¬äº†æ¯ä¸ªæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ—¶é—´ä¿¡æ¯ã€‚å¦‚æœæ˜¯DDLè¯­å¥ï¼Œåˆ™ç›´æ¥è®°å½•åˆ° "),a("code",[s._v("binlog")]),s._v(" æ—¥å¿—ï¼Œè€Œ "),a("code",[s._v("DMLè¯­å¥")]),s._v("ï¼Œå¿…é¡»é€šè¿‡äº‹åŠ¡æäº¤æ‰èƒ½è®°å½•åˆ° "),a("code",[s._v("binlog")]),s._v("æ—¥å¿—ä¸­ï¼Œç”Ÿäº§ä¸­å¼€å¯ã€‚")]),s._v(" "),a("p",[s._v("åé¢è¦ä»‹ç»çš„ä¸»ä»å¤åˆ¶ã€ä¸»å¤‡ã€æ•°æ®æ¢å¤éƒ½æ˜¯ä¾èµ– "),a("code",[s._v("binlog")]),s._v(" æ¥æ“ä½œçš„ã€‚")]),s._v(" "),a("h3",{attrs:{id:"é‡åšæ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡åšæ—¥å¿—"}},[s._v("#")]),s._v(" é‡åšæ—¥å¿— ğŸ‘")]),s._v(" "),a("p",[a("code",[s._v("redo log")]),s._v(" æ˜¯å±äºå­˜å‚¨å¼•æ“ "),a("code",[s._v("InnoDB")]),s._v(" ç‰¹æœ‰çš„æ—¥å¿—ï¼Œæ¯å½“æœ‰ä¸€ä¸ª "),a("code",[s._v("DMLæ“ä½œ")]),s._v(" ï¼Œå°±ä¼šè®°å½•å¤šä¸€æ¡å›æ»šæ“ä½œåˆ° "),a("code",[s._v("redo log")]),s._v(" ä¸­ï¼ŒåŒæ—¶ "),a("code",[s._v("redo log")]),s._v(" è¿˜ä¼šè®°å½•æ•°æ®çš„å˜åŒ–æƒ…å†µã€‚")]),s._v(" "),a("p",[s._v("è¯¥æ—¥å¿—æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨ "),a("code",[s._v("var/lib/mysql")]),s._v(" ä¸‹çš„ "),a("code",[s._v("ib_logfile0")]),s._v(" å’Œ "),a("code",[s._v("ib_logfile1")]),s._v(" ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶å°±æ˜¯é‡åšæ—¥å¿—ï¼Œå¤§å°æ¯ä¸ª 8Mã€‚å¯ä»¥é€šè¿‡ "),a("code",[s._v("show variables like 'innodb_log%'")]),s._v(" æŸ¥è¯¢")]),s._v(" "),a("p",[s._v("ä½œç”¨ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("é˜²æ­¢åœ¨å‘ç”Ÿæ•…éšœçš„æ—¶é—´ç‚¹æ—¶ï¼Œå†…å­˜ä¸­å°šæœ‰è„é¡µ")]),s._v(" "),a("li",[s._v("å¦‚æœæœªå†™å…¥ç£ç›˜ï¼ˆäº‹åŠ¡æäº¤ä¹‹åï¼Œæ•°æ®å†™å…¥ç£ç›˜ä¹‹å‰å®•æœºï¼‰ï¼Œåœ¨é‡å¯mysqlæœåŠ¡çš„æ—¶å€™ï¼Œæ ¹æ®redo logè¿›è¡Œé‡åšï¼Œä»è€Œè¾¾åˆ°äº‹åŠ¡çš„æŒä¹…æ€§è¿™ä¸€ç‰¹æ€§ã€‚")])]),s._v(" "),a("p",[s._v("å†…å®¹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ç‰©ç†æ ¼å¼çš„æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯ç‰©ç†æ•°æ®é¡µé¢çš„ä¿®æ”¹ä¿¡æ¯ï¼Œå…¶ "),a("code",[s._v("redo log")]),s._v(" æ˜¯é¡ºåºIOå†™å…¥ "),a("code",[s._v("redo log file")]),s._v(" çš„ç‰©ç†æ–‡ä»¶ä¸­å»çš„ã€‚")])]),s._v(" "),a("p",[s._v("ç”Ÿæˆæ—¶æœºï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("äº‹åŠ¡å¼€å§‹ä¹‹åå°±äº§ç”Ÿredo logï¼Œredo logçš„è½ç›˜å¹¶ä¸æ˜¯éšç€äº‹åŠ¡çš„æäº¤æ‰å†™å…¥çš„")]),s._v("ï¼Œè€Œæ˜¯åœ¨äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¾¿å¼€å§‹å†™å…¥redo logæ–‡ä»¶ä¸­ã€‚")])]),s._v(" "),a("p",[s._v("é‡Šæ”¾æ—¶æœºï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å½“å¯¹åº”äº‹åŠ¡çš„è„é¡µå†™å…¥åˆ°ç£ç›˜ä¹‹åï¼Œredo logçš„ä½¿å‘½ä¹Ÿå°±å®Œæˆäº†ï¼Œé‡åšæ—¥å¿—å ç”¨çš„ç©ºé—´å°±å¯ä»¥é‡ç”¨ï¼ˆè¢«è¦†ç›–ï¼‰ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"å›æ»šæ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å›æ»šæ—¥å¿—"}},[s._v("#")]),s._v(" å›æ»šæ—¥å¿— ğŸ‘")]),s._v(" "),a("p",[a("code",[s._v("å›æ»šæ—¥å¿—")]),s._v(" ç§°ä¸º "),a("code",[s._v("undo log")]),s._v("ï¼Œè¿™ä¸ªè®°å½•ä¹Ÿæ˜¯è®°å½•åœ¨ "),a("code",[s._v("redo log")]),s._v(" é‡Œé¢çš„ã€‚å¯ä»¥å°† "),a("code",[s._v("undo log")]),s._v(" ç†è§£ä¸ºè·Ÿæ•°æ®é¡µä¸€æ ·ç±»å‹çš„æ•°æ®ï¼Œåªä¸è¿‡æ•°æ®é¡µè®°å½•çš„æ˜¯æ–°æ•°æ®ï¼Œ"),a("code",[s._v("undo log page")]),s._v(" è®°å½•çš„æ˜¯å›æ»šæ•°æ®")]),s._v(" "),a("p",[s._v("ä½œç”¨ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä¿å­˜äº†äº‹åŠ¡å‘ç”Ÿä¹‹å‰æ•°æ®çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨äºå›æ»šã€‚äº‹åŠ¡å›æ»šæ—¶ï¼Œä¼šæ ¹æ® "),a("code",[s._v("undo log")]),s._v(" å°†æ•°æ®ä»é€»è¾‘ä¸Šæ¢å¤è‡³äº‹åŠ¡ä¹‹å‰çš„çŠ¶æ€ã€‚")])]),s._v(" "),a("p",[s._v("å†…å®¹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("é€»è¾‘æ ¼å¼çš„æ—¥å¿—ï¼Œåœ¨æ‰§è¡Œ "),a("code",[s._v("undo")]),s._v(" çš„æ—¶å€™ï¼Œä»…ä»…æ˜¯å°†æ•°æ®ä»é€»è¾‘ä¸Šæ¢å¤è‡³äº‹åŠ¡ä¹‹å‰çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä»ç‰©ç†é¡µé¢ä¸Šæ“ä½œå®ç°çš„ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¸åŒäº "),a("code",[s._v("redo log")]),s._v(" çš„ã€‚")])]),s._v(" "),a("p",[s._v("ç”Ÿæˆæ—¶æœºï¼š")]),s._v(" "),a("ul",[a("li",[s._v("äº‹åŠ¡å¼€å§‹ä¹‹å‰ï¼Œå°†å½“å‰äº‹åŠ¡ç‰ˆæœ¬ç”Ÿæˆ undo logï¼Œ"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("undo ä¹Ÿä¼šäº§ç”Ÿ redo æ¥ä¿è¯ undo log çš„å¯é æ€§ã€‚")])]),s._v(" "),a("li",[s._v("æ¯ä¸€æ¬¡å†™æ“ä½œéƒ½ä¼šç”Ÿæˆ undo log\n"),a("ul",[a("li",[s._v("æ¯”å¦‚ update æ“ä½œï¼Œä¼šç”Ÿæˆä¸€æ¡æ›´æ–°å‰çš„è®°å½•ä¿¡æ¯ï¼Œæ¯”å¦‚ä¸»é”®IDï¼Œéœ€è¦æ›´æ–°çš„å­—æ®µä»¥åŠå­—æ®µå¯¹åº”çš„æ—§å€¼ã€‚")]),s._v(" "),a("li",[s._v("å¯¹äº DELETE æ“ä½œï¼Œåœ¨ delete mark æ“ä½œæ—¶ï¼Œä¼šè·å–è¯¥æ¡è®°å½•æœ€è¿‘ä¸€æ¬¡çš„ undo log è®°å½•")])])]),s._v(" "),a("li",[s._v("ç”Ÿæˆçš„æ–°çš„ undo log è®°å½•äº†æ—§è®°å½•çš„ "),a("code",[s._v("trx_id")]),s._v("ï¼ˆäº‹åŠ¡ç¼–å·ï¼‰ å’Œ "),a("code",[s._v("old roll_pointer")]),s._v("ï¼ˆä¸Šä¸€ä¸ª undo log çš„ä½ç½®,å›æ»šæŒ‡é’ˆï¼‰ ï¼Œè¿™æ ·å›æ»šæ—¶ï¼Œå°±å¯ä»¥ç›´æ¥æ‰¾åˆ°åˆ é™¤ä¹‹å‰çš„ undo log è¿›è¡Œå›æ»šæ“ä½œã€‚")])]),s._v(" "),a("p",[s._v("é‡Šæ”¾æ—¶æœºï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å½“äº‹åŠ¡æäº¤ä¹‹åï¼Œundo logå¹¶ä¸èƒ½ç«‹é©¬è¢«åˆ é™¤ï¼Œè€Œæ˜¯æ”¾å…¥å¾…æ¸…ç†çš„é“¾è¡¨ï¼Œç”± purge çº¿ç¨‹åˆ¤æ–­æ˜¯å¦æœ‰å…¶ä»–äº‹åŠ¡åœ¨ä½¿ç”¨ undo æ®µä¸­è¡¨çš„ä¸Šä¸€ä¸ªäº‹åŠ¡ä¹‹å‰çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå†³å®šæ˜¯å¦å¯ä»¥æ¸…ç† undo log çš„æ—¥å¿—ç©ºé—´")])]),s._v(" "),a("h3",{attrs:{id:"ä¸­ç»§æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­ç»§æ—¥å¿—"}},[s._v("#")]),s._v(" ä¸­ç»§æ—¥å¿— ğŸ‘")]),s._v(" "),a("h3",{attrs:{id:"æ•°æ®æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®æ–‡ä»¶"}},[s._v("#")]),s._v(" æ•°æ®æ–‡ä»¶")]),s._v(" "),a("p",[s._v("å¦‚æœä½¿ç”¨ "),a("code",[s._v("InnoDB")]),s._v(" å¼•æ“ï¼Œåˆ™æ•°æ®æ–‡ä»¶åˆ†ä¸ºä¸‰ç§ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v(".frm")]),s._v("ï¼šè¡¨ç»“æ„å®šä¹‰æ–‡ä»¶")]),s._v(" "),a("li",[a("code",[s._v(".ibd")]),s._v(": ä½¿ç”¨"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("ç‹¬äº«è¡¨ç©ºé—´")]),s._v("ä¿å­˜è¡¨æ•°æ®å’Œç´¢å¼•ä¿¡æ¯ï¼Œä¸€ä¸ªè¡¨å¯¹åº”ä¸€ä¸ª "),a("code",[s._v(".ibd")]),s._v(" æ–‡ä»¶ã€‚")]),s._v(" "),a("li",[a("code",[s._v("ibdata")]),s._v("ï¼šä½¿ç”¨"),a("strong",{staticStyle:{color:"#3EAF7C"}},[s._v("å…±äº«è¡¨ç©ºé—´")]),s._v("ä¿å­˜è¡¨æ•°æ®å’Œç´¢å¼•ä¿¡æ¯ï¼Œæ‰€æœ‰è¡¨å…±åŒä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª "),a("code",[s._v(".ibdata")]),s._v(" æ–‡ä»¶ã€‚")])]),s._v(" "),a("p",[s._v("å¦‚æœä½¿ç”¨ "),a("code",[s._v("MyISAM")]),s._v(" å¼•æ“ï¼Œæ•°æ®æ–‡ä»¶ä¹Ÿåˆ†ä¸ºä¸‰ç§ï¼Œä¸è¿‡æ•°æ®å’Œç´¢å¼•æ˜¯åˆ†å¼€å­˜æ”¾çš„ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v(".frm")]),s._v("ï¼šè¡¨ç»“æ„å®šä¹‰æ–‡ä»¶")]),s._v(" "),a("li",[a("code",[s._v(".myd")]),s._v(": ä¸»è¦ç”¨æ¥å­˜å‚¨è¡¨æ•°æ®ä¿¡æ¯")]),s._v(" "),a("li",[a("code",[s._v(".myi")]),s._v(": ä¸»è¦ç”¨æ¥å­˜å‚¨è¡¨æ•°æ®æ–‡ä»¶ä¸­ä»»ä½•ç´¢å¼•çš„ç´¢å¼•æ ‘")])])])}),[],!1,null,null,null);t.default=v.exports}}]);